{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Documents\\\\PersonalProjects\\\\CodingChallenge\\\\employee-management\\\\client\\\\src\\\\routes\\\\vacations\\\\addVacationRequests\\\\AddVacationPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from 'react';\nimport './addvacationPage.scss';\nimport Button from '../../../components/button/Button';\nimport { AuthContext } from \"../../../context/AuthContext.jsx\";\nimport apiRequest from '../../../lib/apiRequest.js';\nimport { useNavigate } from 'react-router-dom'; // Import useNavigate for redirection\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AddVacationPage() {\n  _s();\n  // State to store form data\n  const [fromDate, setFromDate] = useState('');\n  const [toDate, setToDate] = useState('');\n  const [comment, setComment] = useState('');\n  const [loading, setLoading] = useState(false); // Loading state\n  const {\n    currentUser\n  } = useContext(AuthContext);\n  const navigate = useNavigate(); // Initialize navigate hook\n\n  // Handle form submission\n  const handleSubmit = async e => {\n    e.preventDefault(); // Prevent default form submission\n\n    // Validate the from and to dates\n    if (new Date(fromDate) >= new Date(toDate)) {\n      alert(\"'From' date should be earlier than 'To' date.\");\n      return;\n    }\n\n    // Prepare data to be sent to the backend\n    const requestData = {\n      requesterId: currentUser.user.id,\n      // You can fetch the logged-in user's ID from context or state\n      from: fromDate,\n      to: toDate,\n      status: 'PENDING',\n      // Default status or use user input if applicable\n      comment\n    };\n\n    // Set loading state to true while submitting\n    setLoading(true);\n    try {\n      // Use the Axios instance to make the request\n      const response = await apiRequest.post('/requestVacation', requestData);\n\n      // Handle the response (e.g., show a success message)\n      console.log('Vacation Request Created:', response.data);\n      // alert('Vacation request submitted successfully!');\n\n      // Optionally reset the form\n      setFromDate('');\n      setToDate('');\n      setComment('');\n\n      // Redirect to the \"/viewVacations\" page after successful submission\n      navigate('/viewVacations'); // Use navigate to redirect\n    } catch (error) {\n      console.error('Error creating vacation request:', error);\n      alert('Error creating vacation request');\n    } finally {\n      // Set loading state to false once the request is finished\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      fontFamily: 'Arial, sans-serif',\n      margin: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Request Vacation\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"from\",\n          children: \"From\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"from\",\n          type: \"date\" // Changed to \"date\" to capture only the date part\n          ,\n          value: fromDate,\n          onChange: e => setFromDate(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"to\",\n          children: \"To\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"to\",\n          type: \"date\" // Changed to \"date\" to capture only the date part\n          ,\n          value: toDate,\n          onChange: e => setToDate(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"comment\",\n          children: \"Comment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"comment\",\n          rows: \"4\",\n          placeholder: \"Max. 500 Words\",\n          value: comment,\n          onChange: e => setComment(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          text: loading ? 'Submitting...' : 'Submit Vacation Request'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n_s(AddVacationPage, \"8gKNbnD2kr6N3lyho021VJu/OFM=\", false, function () {\n  return [useNavigate];\n});\n_c = AddVacationPage;\nexport default AddVacationPage;\nvar _c;\n$RefreshReg$(_c, \"AddVacationPage\");","map":{"version":3,"names":["React","useState","useContext","Button","AuthContext","apiRequest","useNavigate","jsxDEV","_jsxDEV","AddVacationPage","_s","fromDate","setFromDate","toDate","setToDate","comment","setComment","loading","setLoading","currentUser","navigate","handleSubmit","e","preventDefault","Date","alert","requestData","requesterId","user","id","from","to","status","response","post","console","log","data","error","style","fontFamily","margin","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","className","htmlFor","type","value","onChange","target","rows","placeholder","text","_c","$RefreshReg$"],"sources":["C:/Users/HP/Documents/PersonalProjects/CodingChallenge/employee-management/client/src/routes/vacations/addVacationRequests/AddVacationPage.jsx"],"sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport './addvacationPage.scss';\r\nimport Button from '../../../components/button/Button';\r\nimport { AuthContext } from \"../../../context/AuthContext.jsx\";\r\nimport apiRequest from '../../../lib/apiRequest.js';\r\nimport { useNavigate } from 'react-router-dom'; // Import useNavigate for redirection\r\n\r\nfunction AddVacationPage() {\r\n  // State to store form data\r\n  const [fromDate, setFromDate] = useState('');\r\n  const [toDate, setToDate] = useState('');\r\n  const [comment, setComment] = useState('');\r\n  const [loading, setLoading] = useState(false); // Loading state\r\n  const { currentUser } = useContext(AuthContext);\r\n  const navigate = useNavigate(); // Initialize navigate hook\r\n\r\n  // Handle form submission\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault(); // Prevent default form submission\r\n\r\n    // Validate the from and to dates\r\n    if (new Date(fromDate) >= new Date(toDate)) {\r\n      alert(\"'From' date should be earlier than 'To' date.\");\r\n      return;\r\n    }\r\n\r\n    // Prepare data to be sent to the backend\r\n    const requestData = {\r\n      requesterId: currentUser.user.id, // You can fetch the logged-in user's ID from context or state\r\n      from: fromDate,\r\n      to: toDate,\r\n      status: 'PENDING', // Default status or use user input if applicable\r\n      comment,\r\n    };\r\n\r\n    // Set loading state to true while submitting\r\n    setLoading(true);\r\n\r\n    try {\r\n      // Use the Axios instance to make the request\r\n      const response = await apiRequest.post('/requestVacation', requestData);\r\n\r\n      // Handle the response (e.g., show a success message)\r\n      console.log('Vacation Request Created:', response.data);\r\n      // alert('Vacation request submitted successfully!');\r\n      \r\n      // Optionally reset the form\r\n      setFromDate('');\r\n      setToDate('');\r\n      setComment('');\r\n\r\n      // Redirect to the \"/viewVacations\" page after successful submission\r\n      navigate('/viewVacations');  // Use navigate to redirect\r\n\r\n    } catch (error) {\r\n      console.error('Error creating vacation request:', error);\r\n      alert('Error creating vacation request');\r\n    } finally {\r\n      // Set loading state to false once the request is finished\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ fontFamily: 'Arial, sans-serif', margin: '20px' }}>\r\n      <h1>Request Vacation</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        {/* From */}\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"from\">From</label>\r\n          <input\r\n            id=\"from\"\r\n            type=\"date\"  // Changed to \"date\" to capture only the date part\r\n            value={fromDate}\r\n            onChange={(e) => setFromDate(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n        {/* To */}\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"to\">To</label>\r\n          <input\r\n            id=\"to\"\r\n            type=\"date\"  // Changed to \"date\" to capture only the date part\r\n            value={toDate}\r\n            onChange={(e) => setToDate(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n        {/* Comment */}\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"comment\">Comment</label>\r\n          <textarea\r\n            id=\"comment\"\r\n            rows=\"4\"\r\n            placeholder=\"Max. 500 Words\"\r\n            value={comment}\r\n            onChange={(e) => setComment(e.target.value)}\r\n          ></textarea>\r\n        </div>\r\n\r\n        {/* Submit Button */}\r\n        <div className=\"form-group\">\r\n          <Button type=\"submit\" text={loading ? 'Submitting...' : 'Submit Vacation Request'} />\r\n        </div>\r\n      </form>\r\n      \r\n    \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddVacationPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}